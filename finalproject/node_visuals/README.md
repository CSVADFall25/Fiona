# Data Acquisition and Processing:
What brings me even more joy than actually watching a movie is meticulously logging every single film I watch on Letterboxd. I wanted to create a data portrait from this information. Thankfully, Letterboxd allows you to export all of your data on file by navigating to settings. For this project, I worked with the “diary.csv” file that is automatically updated each time you write a review. 

Much of the information I wanted to access was already available in the dataframe columns. However, a significant amount of data could only be accessed from the TMDB. I applied for personal/academic use API credentials, so that I could access the database for each film. This allowed me to find the movie classifications of: genre, language, and runtime. When searching the database, results are sorted by popularity. So, I cleaned the titles and adjusted the search query to account for the release year. Despite this, one movie continues to be incorrect – House (1977) is continually misclassified as Beach House (1977). 

Additionally, TMDB API gave the ability to import every movie poster, which I then used for color palette analysis. I selected the top 3 colors from each movie’s poster with getpalette from the PIL library. From here, I ran a basic K-means clustering algorithm from scikit-learn to find the approximate color scheme groupings. I stored each palette (formatted as a list of RGB values) and the movie’s cluster classification in a new dataframe. 

I then exported 3 csv files for use in p5.js –  a full dataframe including genre, language and runtime, a smaller csv file of summary statistics, and the K-means color dataframe. 

# Development and Functionality:
I wanted to have multiple views of the data available to the viewer. One of my favorite projects for music listening stats is Receiptify, which outputs your top tracks in a grocery receipt format. Here is the GitHub for that: https://github.com/michellexliu/receiptify.git. Similarly, I knew that I wanted to have a general summary stats page that reported top genres, overall watchtime, and so on. I used a custom font for this visualization (just Courier New Bold).

Aside from very general statistics, I wanted to see if I could visualize and pattern recognize something more abstract, such as color palettes. In media signal processing, we learned to generate movie barcodes, where it is possible to extract the primary color values from scenes and lay them out in a barcode format. Initially, I planned to create a movie barcode for every entry in my diary. This would have been really computationally expensive, and also I was having a hard time accessing full length versions of movies. 

Instead, as described above, color palettes were extracted from each movie poster. The p5.js sketch shows the films in palette-sorted clusters. For the user interaction, I also implemented a drop-down menu feature that allows the user to view all of the movies with a common genre (only selected from the top 5 that are reported in summary stats). I also added a hover feature, so that when the mouse nears a point, the movie's title pops up. 


# Reflection/Further work:
I am interested in the possibility of making this project publicly available, similar to how other apps are. I think it would be very fun for people to view their overall stats, as well as their own color palette analysis of films. 

Within the current project, I have several other changes that I want to make. I would like to make the stats summary page more aesthetically appealing, directly emulating the receipt style of Receiptify. A pretty minor detail, but I'd like to round off the average rating and monthly average so they look cleaner. Overall, I aim to have the K-means palette clusters become more understandable to the viewer. I had trouble adding the PCA1/PCA2 axis labels back into the visual (this was working with Matplotlib in Colab), but I think this might help. Additionally, perhaps visually representing each cluster's "average palette" could help viewers understand the similarities between movies grouped together. Or, I could even pull out each individual movie's color palette... this might look messy and make the visual even less understandable, though.

I originally planned to have a tertiary data visualization, based on common movie tags. In this graph, each movie would be an individual node, with a connection to other nodes with a common tag (tags are custom, mine include locations and the people who I watch movies with). This would create a weblike structure. If I have time in the future, I would really like to expand the project to include this other viewing mode. 
